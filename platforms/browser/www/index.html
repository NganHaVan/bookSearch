<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <!-- <script src = "https://code.jquery.com/jquery-1.11.1.min.js"></script> -->
    <script
    src="https://code.jquery.com/jquery-2.2.4.js"
    integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
    crossorigin="anonymous"></script>
    <script src = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <title>Hello World</title>
</head>

<body>
    <!-- Home -->
    <div data-role="page" id="home">
      <div data-role="header">
        <a href="#home" class="ui-btn ui-corner-all ui-shadow ui-icon-home ui-nodisc-icon ui-alt-icon ui-btn-icon-left">Home</a>
        <h1>Book search</h1>
        <a href="#myLib" class="ui-btn ui-corner-all ui-shadow ui-icon-plus ui-nodisc-icon ui-alt-icon ui-btn-icon-left">My library</a>
      </div>
      <div class="ui-content" role="main">
        <form id="searchForm">
            <input type="text" placeholder="Search" id="searchText">
            <div class="btnHolder">
                <button type="submit" class="ui-btn ui-icon-search ui-btn-b ui-btn-inline ui-corner-all ui-shadow" id="submit">Search</button>
            </div>
        </form>
        <button id="clearStorage">Clear Storage</button>
        <br>
        <div id="alert"></div>
        <div id="bookOutput"></div>
      </div>
      <div data-role="footer">
        <h4>Mobile Programming</h4>
      </div>
    </div>

    <!-- Book Detail -->
    <div data-role="page" id="detail">
            <div data-role="header">
              <a href="#home" class="ui-btn ui-corner-all ui-shadow ui-icon-home ui-nodisc-icon ui-alt-icon ui-btn-icon-left">Home</a>
              <h1>Book Detail</h1>
              <a href="#myLib" class="ui-btn ui-corner-all ui-shadow ui-icon-plus ui-nodisc-icon ui-alt-icon ui-btn-icon-left">My library</a>
            </div>
            <div class="ui-content" role="main">
              <h1>This is detail</h1>
              <br>
              <div id="detailOutput"></div>
            </div>
            <div data-role="footer">
              <h4>Mobile Programming</h4>
            </div>
          </div>

    <!-- myLib -->
    <div data-role="page" id="myLib">
            <div data-role="header">
              <a href="#home" class="ui-btn ui-corner-all ui-shadow ui-icon-home ui-nodisc-icon ui-alt-icon ui-btn-icon-left">Home</a>
              <h1>My Library</h1>
              <a href="#myLib" class="ui-btn ui-corner-all ui-shadow ui-icon-plus ui-nodisc-icon ui-alt-icon ui-btn-icon-left">My library</a>
            </div>
            <div class="ui-content" role="main">
              <h1>This is Library</h1>
              <div id="info"></div>
              <div id="libResult"></div>
            </div>
            <div data-role="footer">
              <h4>Mobile Programming</h4>
            </div>
          </div>

    <script type="text/javascript" src="cordova.js"></script>

    <script type="text/javascript">
    $(document).on("pagecreate", function() {
        $(document).on("pagecontainershow", function(){
            $(".ui-content").height(getRealContentHeight());
        })

        $(window).on("resize orientationchange", function(){
            $(".ui-content").height(getRealContentHeight());
        })

        function getRealContentHeight() {
            var activePage = $.mobile.pageContainer.pagecontainer("getActivePage"),
            screen = $.mobile.getScreenHeight(),
            header = $(".ui-header").hasClass("ui-header-fixed") ? $(".ui-header").outerHeight() - 1 : $(".ui-header").outerHeight(),
            footer = $(".ui-footer").hasClass("ui-footer-fixed") ? $(".ui-footer").outerHeight() - 1 : $(".ui-footer").outerHeight(),
            contentMargins = $(".ui-content", activePage).outerHeight() - $(".ui-content", activePage).height();
            var contentHeight = screen - header - footer - contentMargins;

            return contentHeight;
        }
    });
    </script>
    <script type="text/javascript" src="./js/index.js"></script>
    <script type="text/javascript">
      getLib();
    </script>
</body>

</html>
